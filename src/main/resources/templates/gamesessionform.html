<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
 
    <title>Create Session</title>
 
    <!--/*/ <th:block th:include="fragments/headincludes :: head"></th:block> /*/-->
    
</head>
<body>

<div class="container">
    <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
 
    <h2>Create a New Session</h2>
    <div>
        <form id ="gameSessionCreationForm" class="form-horizontal" th:object="${gamesession}" th:action="@{/gamesession}" method="post">
            <input type="hidden" th:field="*{id}" />
            <input type="hidden" th:field="*{version}" />
            
            <input type="hidden" name="fromInternal" value="true"/>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">Task Description:</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" th:field="*{taskDescription}"/>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">Your Display Name:</label>
                <div class="col-sm-5">
                    <input type="text" name="txtUsername" id="txtUsername" class="form-control" required="true" />
                </div>
            </div>
            
            <div class="row form-group col-sm-1">
                <input type="submit" class="btn btn-default" value="Create" ></input>
            </div>          
        </form>

	</div>
    
</div>


<script>

if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', WindowLoad, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', WindowLoad);
}

var supportsLocalStorage = false;
function supportsHtml5Storage() {
    return typeof(Storage) !== "undefined";
}

function getUsernameFromLocalStorage() {
	var storedUsername = localStorage.getItem("stored_default_username");
	return storedUsername;
}

function WindowLoad(event) {
	if (supportsHtml5Storage()) {
    	supportsLocalStorage = true;
    	console.log("This browser DOES support local storage....");
    	
    	enterNameInUsernameField(getUsernameFromLocalStorage());
       	
    } else {
    	supportsLocalStorage = false;
    	console.log("This browser does NOT support local storage....");
    }
	
}


function enterNameInUsernameField(username) {
	$("#txtUsername").val(username);
}

</script>

</body>
</html>